<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NSL Creates by Naman Lumbhani - Sketch Artist</title>

    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        :root {
            /* Darker Professional Palette */
            --color-bg-dark: #121212;
            --color-bg-light: #1e1e1e;
            --color-text-light: #ffffff;
            --color-text-dark: #b0b0b0;
            --color-header-footer: #121212;
            --color-primary-button: #bb86fc;
            --color-highlight: #03dac6;
            --color-secondary-accent: #3700b3;
            --color-border: #333333;
            --color-dark-grey: #b0b0b0;
            --color-medium-grey: #808080;
            --color-white: #ffffff;
            --color-alert: #cf6679;
            --color-error-text: #cf6679;

             /* Subtle gradients */
             --gradient-primary: linear-gradient(90deg, var(--color-primary-button), var(--color-secondary-accent));
             --gradient-highlight: linear-gradient(90deg, var(--color-highlight), var(--color-primary-button));
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--color-text-dark);
            background-color: var(--color-bg-dark);
            scroll-behavior: smooth;
            perspective: 1000px; /* Adds perspective for 3D effects */
        }

        .container { width: 90%; max-width: 1400px; margin: auto; overflow: hidden; padding: 0 20px; }

        header {
            background: var(--color-header-footer);
            padding: 0.8rem 0;
            position: fixed; width: 100%; top: 0; left: 0; z-index: 1000;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
            transition: background-color 0.3s ease;
        }
        header .container {
             display: flex;
             justify-content: space-between;
             align-items: center;
             flex-direction: row;
             padding: 0 20px;
        }
        header .logo a {
            text-decoration: none;
            color: var(--color-primary-button);
            display: block;
            font-family: 'Playfair Display', serif; font-size: 1.6rem; font-weight: 700;
            transition: color 0.3s ease;
        }
        header .logo a:hover { color: var(--color-highlight); }
        nav ul { list-style: none; padding: 0; margin: 0; display: flex; }
        nav ul li { margin-left: 30px; }
        nav ul li a {
            color: var(--color-text-dark);
            text-decoration: none; font-weight: 400;
            padding: 10px 0; position: relative; transition: color 0.3s ease, transform 0.3s ease; letter-spacing: 0.5px;
             font-size: 1rem;
        }
        nav ul li a::after {
            content: ''; position: absolute; left: 0; bottom: -3px; height: 2px; width: 0;
            background-color: var(--color-primary-button); transition: width 0.3s ease-out;
        }
        nav ul li a:hover, nav ul li a.active { color: var(--color-text-light); }
        nav ul li a:hover::after, nav ul li a.active::after { width: 100%; }
        .menu-toggle { display: none; font-size: 2rem; cursor: pointer; color: var(--color-text-light); transition: transform 0.3s ease; }
        .menu-toggle:hover { transform: rotate(90deg); color: var(--color-highlight); }

        section {
            padding: 120px 0;
            border-bottom: 1px solid var(--color-border);
            opacity: 0;
            transform: translateY(40px) scale(0.98);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            background-color: var(--color-bg-dark);
            min-height: 80vh;
            position: relative;
            overflow: visible; /* Allows 3D children to escape bounds */
        }
        section.is-visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        section:last-of-type { border-bottom: none; }
        #pricing, #gallery { background-color: var(--color-bg-light); }
        #disclaimer { padding: 50px 0; background-color: var(--color-bg-light); border-bottom: 1px solid var(--color-border); min-height: auto; }

        /* Hero Section - Modified for 3D */
        #hero {
            /* Remove background image/attachment, use overlay */
            background: linear-gradient(rgba(18, 18, 18, 0.85), rgba(18, 18, 18, 0.85)); /* Darker overlay to contrast with 3D */
            color: var(--color-text-light);
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding-top: 80px;
            opacity: 1;
            transform: translateY(0);
            transition: none;
            position: relative;
            overflow: hidden;
        }

        /* Container for the 3D element */
        #hero .hero-3d-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1; /* Place behind hero content */
        }

         /* Style for the Three.js canvas */
        #hero-canvas {
            display: block; /* Remove extra space below canvas */
            width: 100% !important; /* Important to override potential inline styles */
            height: 100% !important; /* Important to override potential inline styles */
            filter: blur(2px); /* Optional: add a subtle blur to the background 3D */
            opacity: 0.6; /* Optional: reduce opacity */
        }

        /* Style for the fallback message */
        #hero-fallback-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--color-text-dark);
            font-size: 1.1rem;
            text-align: center;
            z-index: 1; /* Below content */
            display: none; /* Hidden by default */
        }


        /* Ensure hero content is above the 3D */
        #hero .hero-content {
             z-index: 2;
             position: relative;
             max-width: 1000px;
             padding: 0 20px;
        }
        #hero h1 {
            font-family: 'Playfair Display', serif; font-size: 4.5rem; margin-bottom: 20px;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
            font-weight: 700; letter-spacing: 1px; line-height: 1.1;
            color: var(--color-text-light);
        }
         #hero h1 .site-title { font-weight: 700; color: var(--color-primary-button); }
        #hero p {
            font-size: 1.4rem; margin-bottom: 40px; max-width: 800px;
            text-shadow: 1px 1px 5px rgba(0,0,0,0.3);
            font-weight: 300;
            color: var(--color-text-dark);
            line-height: 1.6;
        }

        .cta-button {
            display: inline-block; background: var(--color-primary-button); color: var(--color-bg-dark);
            padding: 15px 35px;
            text-decoration: none; border-radius: 30px; font-size: 1.2rem; font-weight: 500;
            transition: background-color 0.3s ease, transform 0.2s ease-out, box-shadow 0.3s ease;
            border: none; cursor: pointer; box-shadow: 0 4px 8px rgba(0,0,0,0.3);
             overflow: hidden;
             position: relative;
             z-index: 1;
        }
         .cta-button::before {
             content: '';
             position: absolute;
             top: 0;
             left: -100%;
             width: 100%;
             height: 100%;
             background: var(--gradient-highlight);
             transition: left 0.3s ease-out;
             z-index: -1;
         }
        .cta-button:hover::before {
             left: 0;
         }
        .cta-button:hover {
            background: transparent;
            color: var(--color-text-light);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }
        .cta-button:active { transform: translateY(-1px); box-shadow: 0 3px 6px rgba(0,0,0,0.3); }

        .sketch-gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; margin-top: 30px; }
        .sketch-gallery img {
            display: block; width: 100%; height: auto; border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            border: 1px solid var(--color-border);
            transition: transform 0.4s ease-out, box-shadow 0.3s ease, border-color 0.3s ease;
             cursor: pointer;
             transform-style: preserve-3d;
             transform-origin: center center;
        }
        /* 3D Hover effect for gallery images */
        .sketch-gallery img:hover {
            transform: scale(1.05) rotateY(8deg) rotateX(5deg) translateZ(10px);
            box-shadow: 0 8px 18px rgba(0,0,0,0.4);
             border-color: var(--color-primary-button);
        }

        .services-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; margin-top: 40px; }
        .service-card {
            background: var(--color-bg-light);
            padding: 40px; border-radius: 10px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
            border: 1px solid var(--color-border);
            display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
             cursor: default;
             transform-style: preserve-3d;
        }
        .service-card:hover {
            transform: translateY(-8px) translateZ(10px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.4);
            background-color: #282828;
        }
        .service-card .icon { font-size: 3.5rem; color: var(--color-primary-button); margin-bottom: 20px; display: block; }
        .service-card h3 { font-family: 'Playfair Display', serif; font-size: 1.8rem; margin-bottom: 15px; color: var(--color-text-light); font-weight: 600; }
        .service-card p { font-size: 1rem; color: var(--color-text-dark); margin-bottom: 0; line-height: 1.7; }

        .service-process { margin-top: 70px; padding-top: 40px; border-top: 1px dashed var(--color-border); text-align: left; }
        .service-process h3 {
            font-family: 'Playfair Display', serif; color: var(--color-text-light); margin-top: 0; margin-bottom: 20px;
            font-size: 2rem; text-align: center; font-weight: 600;
        }
        .service-process ol, .service-process ul { list-style-position: outside; padding-left: 30px; margin: 20px auto; max-width: 900px; color: var(--color-text-dark); font-size: 1rem; line-height: 1.7; }
        .service-process li { margin-bottom: 12px; padding-left: 8px; position: relative; }
        .service-process ol li::marker { font-weight: bold; color: var(--color-primary-button); font-size: 1.1em; }
        .service-process ul li::before { content: 'â€¢'; color: var(--color-primary-button); font-weight: bold; display: inline-block; width: 1em; margin-left: -1em; }
        #disclaimer p { max-width: 900px; margin: 15px auto; font-size: 1rem; color: var(--color-text-dark); line-height: 1.7; text-align: center; }
        .service-process li strong { color: var(--color-text-light); font-weight: 500; }
        .important-note { text-align: center; font-size: 0.95rem; color: var(--color-alert); margin-top: 15px; font-weight: 500; }
        .important-note i { margin-right: 5px; }

        #pricing { background-color: var(--color-bg-light); }
        .pricing-info p { text-align: center; font-size: 1.1rem; margin-bottom: 25px; color: var(--color-text-dark); max-width: 1000px; margin: auto; line-height: 1.7; }
        #pricing .important-note { margin-bottom: 20px; color: var(--color-alert); }
        .pricing-info ul { list-style: none; padding: 0; text-align: center; margin-bottom: 20px; }

        #about .container { display: flex; flex-direction: column; align-items: center; text-align: center; }
        #about p { max-width: 900px; margin-bottom: 25px; font-size: 1.1rem; color: var(--color-text-dark); line-height: 1.7; }
        #about p:last-of-type { margin-bottom: 0; }
         #about p a { color: var(--color-primary-button); text-decoration: none; transition: color 0.3s ease; }
         #about p a:hover { color: var(--color-highlight); text-decoration: underline; }


        #contact { background: var(--color-bg-dark); }
        .contact-form {
            max-width: 600px; margin: 50px auto; padding: 40px;
            background: var(--color-bg-light);
            border-radius: 10px; box-shadow: 0 8px 20px rgba(0,0,0,0.3);
            border: 1px solid var(--color-border);
             position: relative;
        }
         /* Removed hover */

        .contact-form label { display: block; margin-bottom: 10px; font-weight: 500; color: var(--color-text-light); font-size: 1.1rem; }
        /* Styles for standard inputs */
        .contact-form input[type="text"],
        .contact-form input[type="email"],
        .contact-form textarea,
        .contact-form select {
            width: 100%; padding: 15px; margin-bottom: 20px;
            border: 1px solid var(--color-border);
            border-radius: 8px; font-size: 1rem; color: var(--color-text-light);
            background-color: var(--color-bg-dark);
            box-sizing: border-box; appearance: none;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            /* Style for select dropdown arrow */
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23A0AEC0%22%20d%3D%22M287%2C114.7L159.2%2C28.9c-9.2-9.5-24.2-9.5-33.4%2C0L5.4%2C114.7c-9.2%2C9.5-9.2%2C25%2C0%2C34.5l127.8%2C85.8c9.2%2C9.5%2C24.2%2C9.5%2C33.4%2C0l127.8-85.8C296.2%2C139.7%2C296.2%2C124.2%2C287%2C114.7z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat; background-position: right 15px top 50%; background-size: 16px auto;
            padding-right: 40px;
        }

         /* Styling for the phone input prefix container - make it look like a single input */
         .phone-input-container {
             display: flex; /* Use flexbox for alignment */
             align-items: center; /* Vertically center items */
             margin-bottom: 20px; /* Match other input margin bottom */
             border: 1px solid var(--color-border); /* Match other input border */
             border-radius: 8px; /* Match other input border-radius */
             background-color: var(--color-bg-dark); /* Match other input background */
             padding: 0 15px; /* Match horizontal padding of other inputs */
             transition: border-color 0.3s ease, box-shadow 0.3s ease; /* Match other input transition */
             box-sizing: border-box; /* Include padding and border in element's total width and height */
             width: 100%; /* Make it fill the container like other inputs */
         }

          .phone-input-container:focus-within { /* Style container when input inside is focused */
             border-color: var(--color-primary-button); box-shadow: 0 0 8px rgba(187, 134, 252, 0.5);
             outline: none; /* Remove outline from input */
         }

         .phone-input-container .country-code {
             color: var(--color-text-dark); /* Muted grey text for prefix */
             font-size: 1rem; /* Match input font size */
             margin-right: 8px; /* Space between +91 and input */
             flex-shrink: 0; /* Prevent shrinking */
             flex-grow: 0; /* Prevent growing */
             padding: 15px 0; /* Match vertical padding of the input text */
         }

          .phone-input-container .country-code .flag {
             margin-right: 5px; /* Space between flag and +91 */
             font-size: 1.2rem; /* Slightly larger flag */
         }

         .contact-form input[type="tel"] {
             flex-grow: 1; /* Allow input to take remaining space */
             border: none; /* Remove border from input itself */
             padding: 15px 0; /* Match vertical padding, no horizontal padding here */
             margin: 0; /* Remove margin */
             background-color: transparent; /* Transparent background */
             color: var(--color-text-light); /* Light text color */
             font-size: 1rem;
             outline: none; /* Remove default input outline */
             box-shadow: none; /* Remove box shadow */
             transition: none; /* Remove transition */
             width: auto; /* Allow flex-grow to control width */
         }


        .contact-form input[type="text"]:focus,
        .contact-form input[type="email"]:focus,
        .contact-form textarea:focus,
        .contact-form select:focus,
         .phone-input-container:focus-within { /* Apply focus style to container */
            border-color: var(--color-primary-button); box-shadow: 0 0 8px rgba(187, 134, 252, 0.5);
            outline: none;
        }
        .contact-form textarea { min-height: 180px; resize: vertical; }
        .price-estimator { margin-bottom: 30px; padding-top: 20px; border-top: 1px solid var(--color-border); }
        .price-estimator h3 { font-family: 'Playfair Display', serif; text-align: center; margin-bottom: 20px; font-size: 1.6rem; color: var(--color-text-light); font-weight: 600; }
        .price-estimator > div { margin-bottom: 15px; }

        .drop-zone {
            border: 2px dashed var(--color-border); border-radius: 8px; padding: 40px; text-align: center;
            cursor: pointer; margin-bottom: 25px;
            transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
            background-color: #282828;
            position: relative;
        }
         .drop-zone:hover {
             background-color: #333333;
             border-color: var(--color-primary-button);
         }

        .drop-zone.dragover { background-color: rgba(187, 134, 252, 0.1); border-color: var(--color-primary-button); border-style: solid; box-shadow: 0 0 15px rgba(187, 134, 252, 0.4); }
        .drop-zone.error { border-color: var(--color-error-text); background-color: rgba(207, 102, 121, 0.1); border-style: dashed; box-shadow: none; }
        .drop-zone p { margin: 0; font-size: 1rem; color: var(--color-text-dark); z-index: 2; position: relative; }
        .file-info { margin-top: 15px; font-size: 0.95rem; color: var(--color-text-dark); font-weight: 500; z-index: 2; position: relative; }
        .file-info.error-message { color: var(--color-error-text); font-weight: bold; }

        .contact-form button[type="submit"] {
            background: var(--color-primary-button); color: var(--color-bg-dark);
            padding: 15px 30px;
            border: none; border-radius: 30px; font-size: 1.2rem; font-weight: 600;
            transition: background-color 0.3s ease, transform 0.2s ease-out, box-shadow 0.3s ease;
            width: 100%; margin-top: 30px; cursor: pointer; box-shadow: 0 4px 8px rgba(0,0,0,0.3);
             overflow: hidden;
             position: relative;
             z-index: 1;
        }
         .contact-form button[type="submit"]::before {
             content: '';
             position: absolute;
             top: 0;
             left: -100%;
             width: 100%;
             height: 100%;
             background: var(--gradient-highlight);
             transition: left 0.3s ease-out;
             z-index: -1;
         }
        .contact-form button[type="submit"]:hover::before {
             left: 0;
        }
        .contact-form button[type="submit"]:hover {
             background: transparent;
             color: var(--color-text-light);
             transform: translateY(-3px);
             box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }
        .contact-form button[type="submit"]:active { transform: translateY(-1px); box-shadow: 0 3px 6px rgba(0,0,0,0.3); }

        .price-estimate {
            margin-top: 25px; padding: 20px; background-color: #282828;
            border: 1px solid var(--color-border); border-left: 6px solid var(--color-primary-button);
            border-radius: 8px; font-size: 1.4rem; font-weight: 700; color: var(--color-text-light);
            text-align: center; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.2);
             transition: transform 0.3s ease;
        }
         /* Removed price-estimate hover */
        .contact-info p { text-align: center; font-size: 1.1rem; margin-top: 40px; color: var(--color-text-dark); }
        .contact-info p a { color: var(--color-primary-button); text-decoration: none; font-weight: bold; transition: color 0.3s ease, text-decoration 0.3s ease; }
        .contact-info p a:hover { color: var(--color-highlight); text-decoration: underline; }

        footer {
            background: var(--color-header-footer); color: var(--color-text-dark);
            text-align: center; padding: 3rem 0 1rem;
        }
        footer .footer-note { font-size: 0.8em; color: rgba(176, 176, 176, 0.5); margin-bottom: 15px; }
        footer .social-links { margin-bottom: 20px; }
        footer .social-links a { color: rgba(176, 176, 176, 0.7); margin: 0 12px; font-size: 2rem; text-decoration: none; transition: color 0.3s ease, transform 0.3s ease; }
        footer .social-links a:hover { color: var(--color-primary-button); transform: scale(1.2); }
        footer p { color: rgba(176, 176, 176, 0.6); margin-top: 0; font-size: 0.9em; }

        .scroll-to-top {
            position: fixed; bottom: 30px; right: 30px; background-color: var(--color-primary-button);
            color: var(--color-bg-dark);
            width: 50px; height: 50px; border-radius: 50%;
            text-align: center; line-height: 50px; font-size: 1.6rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.4);
            z-index: 900; opacity: 0; visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease, background-color 0.3s ease, transform 0.3s ease;
            cursor: pointer;
        }
        .scroll-to-top.visible { opacity: 1; visibility: visible; }
        .scroll-to-top:hover { background-color: var(--color-highlight); transform: scale(1.1); }

        /* Sticky CTA Button Styles */
        .sticky-cta-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--color-primary-button);
            color: var(--color-bg-dark);
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 500;
            box-shadow: 0 4px 8px rgba(0,0,0,0.4);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.2s ease-out;
             transform: translateY(20px);
             cursor: pointer;
        }

        .sticky-cta-button.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

         .sticky-cta-button:hover {
             background: var(--color-highlight);
             transform: translateY(-3px);
         }

         .sticky-cta-button:active {
             transform: translateY(-1px);
             box-shadow: 0 3px 6px rgba(0,0,0,0.3);
         }

        /* Responsive adjustments */
        @media (max-width: 1024px) {
             .container { padding: 0 15px; }
             section { padding: 80px 0 60px; transform: translateY(40px) scale(0.99); }
              section.is-visible { transform: translateY(0) scale(1); }
             section h2 { font-size: 2.2rem; margin-bottom: 40px; }
             section h2::after { width: 60px; }
             #disclaimer h2 { font-size: 1.8rem; margin-bottom: 20px; }
             #disclaimer h2::after { width: 50px; }
             #disclaimer p { font-size: 1rem; }
             #hero h1 { font-size: 3.5rem; margin-bottom: 15px; }
              #hero h1:hover { transform: none; }
             #hero p { font-size: 1.2rem; margin-bottom: 30px; }
              #hero p:hover { transform: none; }
             .cta-button { padding: 12px 30px; font-size: 1.1rem; border-radius: 25px; }
              .cta-button:hover { transform: translateY(-2px); }
              .cta-button:active { transform: translateY(-1px); }
             .sketch-gallery { gap: 20px; margin-top: 20px; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
             .sketch-gallery img { border-radius: 5px; }
              .sketch-gallery img:hover { transform: scale(1.05) rotateY(8deg) rotateX(5deg) translateZ(8px); }
             .services-grid { gap: 30px; margin-top: 30px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
             .service-card { padding: 30px; border-radius: 8px; }
             .service-card .icon { font-size: 3rem; margin-bottom: 15px; }
             .service-card h3 { font-size: 1.6rem; margin-bottom: 10px; }
             .service-card p { font-size: 0.95rem; }
              .service-card:hover { transform: translateY(-6px) translateZ(8px); }
             .service-process { margin-top: 50px; padding-top: 30px; }
             .service-process h3 { font-size: 1.8rem; margin-bottom: 15px; }
             .service-process ol, .service-process ul { padding-left: 20px; margin: 15px auto; font-size: 0.95rem; }
             .service-process li { margin-bottom: 10px; padding-left: 6px; }
             .service-process ul li::before { width: 0.9em; margin-left: -0.9em; }
             .important-note { font-size: 0.9rem; margin-top: 10px; }
             .pricing-info p { font-size: 1rem; margin-bottom: 20px; }
             #about p { font-size: 1rem; margin-bottom: 20px; }
             .contact-form { max-width: 500px; margin: 40px auto; padding: 30px; border-radius: 8px; }
              .contact-form:hover { transform: none; }
             .contact-form label { font-size: 1rem; margin-bottom: 8px; }
             /* Phone input container padding */
             .phone-input-container { padding: 0 12px; margin-bottom: 15px;}
             .phone-input-container .country-code { font-size: 0.95rem; margin-right: 6px; padding: 12px 0;}
             .phone-input-container .country-code .flag { font-size: 1.1rem; margin-right: 4px; }
             .contact-form input[type="tel"] { padding: 12px 0; font-size: 0.95rem; }

             .contact-form input[type="text"], .contact-form input[type="email"], .contact-form textarea, .contact-form select { padding: 12px; font-size: 0.95rem; margin-bottom: 15px; border-radius: 6px; }

              .contact-form input[type="text"]:focus, .contact-form input[type="email"]:focus, .contact-form textarea:focus, .contact-form select:focus, .phone-input-container:focus-within { transform: none; }
             .contact-form select { background-position: right 10px top 50%; background-size: 14px auto; padding-right: 35px; }
             .price-estimator h3 { font-size: 1.4rem; margin-bottom: 15px; }
             .price-estimator > div { margin-bottom: 10px; }
             .drop-zone { padding: 30px; margin-bottom: 20px; border-radius: 6px; }
              .drop-zone:hover { transform: none; }
             .drop-zone.dragover { transform: none; }
             .drop-zone p { font-size: 0.95rem; }
             .file-info { font-size: 0.9rem; margin-top: 10px; }
             .price-estimate { font-size: 1.2rem; padding: 15px; margin-top: 20px; margin-bottom: 15px; border-radius: 6px; border-left-width: 5px; }
             .contact-form button[type="submit"] { padding: 12px 25px; font-size: 1.1rem; margin-top: 25px; border-radius: 25px; }
              .contact-form button[type="submit"]:hover { transform: translateY(-2px); }
              .contact-form button[type="submit"]:active { transform: translateY(-1px); }
             .contact-info p { font-size: 1rem; margin-top: 30px; }
             footer { padding: 2rem 0 0.8rem; }
             footer .footer-note { font-size: 0.75em; margin-bottom: 10px; }
             footer .social-links { margin-bottom: 15px; }
             footer .social-links a { font-size: 1.8rem; margin: 0 10px; }
             footer p { font-size: 0.85em; }
             .scroll-to-top { width: 40px; height: 40px; line-height: 40px; font-size: 1.4rem; bottom: 25px; right: 25px; }

             /* Persistent Pencil - REMOVED */
        }

        @media (max-width: 768px) {
            .container { padding: 0 10px; }
            header { padding: 0.6rem 0; }
            header .container { flex-direction: column; align-items: flex-start; padding: 0 10px; }
             header .logo { width: auto; margin-right: auto; }
            header .logo a { font-size: 1.2rem; }
            nav { width: 100%; order: 1; margin-top: 6px; transition: max-height 0.4s ease-in-out, opacity 0.4s ease-in-out; overflow: hidden; max-height: 0; opacity: 0; }
            nav ul { flex-direction: column; width: 100%; padding: 6px 0; background: var(--color-header-footer); box-shadow: none; border-top: 1px solid rgba(255, 255, 255, 0.08); }
            nav ul.active { display: flex; max-height: 400px; opacity: 1; overflow-y: auto; -webkit-overflow-scrolling: touch; }
            nav ul li { margin: 5px 0; width: 100%; }
            nav ul li a { color: var(--color-text-light); font-size: 0.95rem; padding: 6px 10px; display: block; width: 100%; }
            nav ul li a:hover, nav ul li a.active { color: var(--color-secondary-accent); background-color: rgba(255, 255, 255, 0.06); }
            nav ul li a::after { display: none; }
            .menu-toggle { display: block; position: static; }
            header .container .header-top-row { display: flex; justify-content: space-between; align-items: center; width: 100%; }
            header .container .logo, header .container .menu-toggle { margin: 0; }
            #hero { height: auto; padding: 60px 10px 30px; }
            #hero .hero-content { padding: 0 10px; }
            #hero h1 { font-size: 2.5rem; margin-bottom: 10px; }
            #hero p { font-size: 1rem; margin-bottom: 20px; }
            section { padding: 40px 10px; transform: translateY(30px) scale(0.99); }
             section.is-visible { transform: translateY(0) scale(1); }
            section h2 { font-size: 1.8rem; margin-bottom: 30px; padding-bottom: 8px; }
            section h2::after { height: 2px; width: 50px; }
            #disclaimer { padding: 30px 10px; }
            #disclaimer h2 { font-size: 1.4rem; margin-bottom: 10px; }
            #disclaimer h2::after { width: 30px; }
            #disclaimer p { font-size: 0.9rem; }
            .sketch-gallery { grid-template-columns: 1fr; gap: 15px; margin-top: 15px; }
            .sketch-gallery img { border-radius: 4px; }
             .sketch-gallery img:hover { transform: scale(1.05) rotateY(5deg) rotateX(3deg) translateZ(5px); }
            .services-grid { grid-template-columns: 1fr; gap: 20px; margin-top: 20px; }
            .service-card { padding: 20px; border-radius: 6px; }
            .service-card .icon { font-size: 2.5rem; margin-bottom: 10px; }
            .service-card h3 { font-size: 1.4rem; margin-bottom: 8px; }
            .service-card p { font-size: 0.9rem; }
             .service-card:hover { transform: translateY(-4px) translateZ(6px); }
            .service-process { margin-top: 30px; padding-top: 20px; }
            .service-process h3 { font-size: 1.6rem; margin-bottom: 10px; }
            .service-process ol, .service-process ul { padding-left: 10px; margin: 10px auto; font-size: 0.9rem; }
            .service-process li { margin-bottom: 8px; padding-left: 4px; }
            .service-process ul li::before { width: 0.7em; margin-left: -0.7em; }
            .important-note { font-size: 0.8rem; margin-top: 8px; }
            .pricing-info p { font-size: 0.95rem; margin-bottom: 15px; }
            #about p { font-size: 0.95rem; margin-bottom: 15px; }
            .contact-form { max-width: 95%; margin: 30px auto; padding: 20px; border-radius: 6px; }
             .contact-form:hover { transform: none; }
            .contact-form label { font-size: 0.95rem; margin-bottom: 5px; }
             /* Phone input container padding */
            .phone-input-container { padding: 0 10px; margin-bottom: 15px; border-radius: 4px;}
             .phone-input-container .country-code { font-size: 0.9rem; margin-right: 5px; padding: 10px 0;}
             .phone-input-container .country-code .flag { font-size: 1rem; margin-right: 3px; }
             .contact-form input[type="tel"] { padding: 10px 0; font-size: 0.9rem; }

            .contact-form input[type="text"], .contact-form input[type="email"], .contact-form textarea, .contact-form select { padding: 10px; font-size: 0.9rem; margin-bottom: 15px; border-radius: 4px; }

             .contact-form input[type="text"]:focus, .contact-form input[type="email']:focus, .contact-form textarea:focus, .contact-form select:focus, .phone-input-container:focus-within { transform: none; }
            .contact-form select { background-position: right 8px top 50%; background-size: 10px auto; padding-right: 30px; }
            .price-estimator h3 { font-size: 1.2rem; margin-bottom: 10px; }
            .price-estimator > div { margin-bottom: 8px; }
            .drop-zone { padding: 20px; margin-bottom: 15px; border-radius: 4px; }
             .drop-zone:hover { transform: none; }
             .drop-zone.dragover { transform: none; }
            .drop-zone p { font-size: 0.9rem; }
            .file-info { font-size: 0.85rem; margin-top: 8px; }
            .price-estimate { font-size: 1.1rem; padding: 12px; margin-top: 15px; margin-bottom: 15px; border-radius: 4px; border-left-width: 4px; }
            .contact-form button[type="submit"] { padding: 10px 20px; font-size: 1rem; margin-top: 20px; border-radius: 20px; }
             .contact-form button[type="submit"]:hover { transform: translateY(-2px); }
             .contact-form button[type="submit']:active { transform: translateY(-1px); }
            .contact-info p { font-size: 0.95rem; margin-top: 20px; }
            footer { padding: 1.5rem 0 0.5rem; }
            footer .footer-note { font-size: 0.7em; margin-bottom: 6px; }
            footer .social-links { margin-bottom: 10px; }
            footer .social-links a { font-size: 1.6rem; margin: 0 8px; }
            footer p { font-size: 0.8em; }
            .scroll-to-top { width: 30px; height: 30px; line-height: 30px; font-size: 1rem; bottom: 15px; right: 15px; }
        }

        /* Sticky CTA Button Styles */
        .sticky-cta-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--color-primary-button);
            color: var(--color-bg-dark);
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 500;
            box-shadow: 0 4px 8px rgba(0,0,0,0.4);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.2s ease-out;
             transform: translateY(20px);
             cursor: pointer;
        }

        .sticky-cta-button.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

         .sticky-cta-button:hover {
             background: var(--color-highlight);
             transform: translateY(-3px);
         }

         .sticky-cta-button:active {
             transform: translateY(-1px);
             box-shadow: 0 3px 6px rgba(0,0,0,0.3);
         }

        /* Responsive adjustments for sticky button */
        @media (max-width: 1024px) {
             .sticky-cta-button { bottom: 25px; right: 25px; padding: 10px 20px; font-size: 1rem; border-radius: 20px; }
        }
        @media (max-width: 768px) {
            .sticky-cta-button { bottom: 20px; right: 20px; padding: 8px 18px; font-size: 0.9rem; border-radius: 18px; }
             .sticky-cta-button:hover { transform: translateY(-2px); }
             .sticky-cta-button:active { transform: translateY(-1px); }
        }


    </style>
</head>
<body>

    <header>
        <div class="container">
            <div class="header-top-row">
                <div class="logo">
                    <a href="#hero">nsl_creates</a>
                </div>
                <div class="menu-toggle" id="mobile-menu">
                    â˜°
                </div>
            </div>
            <nav id="nav-menu">
                <ul>
                    <li><a href="#hero" class="active">Home</a></li>
                     <li><a href="#gallery">Sketch Samples</a></li><li><a href="#services">Services & Commissions</a></li>
                    <li><a href="#pricing">Pricing</a></li>
                    <li><a href="#about">About Me</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section id="hero">
        <div class="hero-3d-container">
            <canvas id="hero-canvas"></canvas>
            <div id="hero-fallback-message">
                 3D experience not supported on your browser or device. <br> Displaying static background.
            </div>
        </div>

        <div class="container hero-content">
            <h1>Welcome to <span class="site-title">NSL Creates</span></h1>
            <p>Exquisite sketches crafted with passion by Naman Lumbhani. Let's bring your unique vision to life!</p>
            <a href="#contact" class="cta-button">Request a Commission</a>
        </div>
    </section>

     <section id="disclaimer">
         <div class="container">
             <h2>Disclaimer</h2>
             <p><i class="fas fa-info-circle"></i> Please note: This website is currently run by a 15-year-old for learning and experimental purposes. A significant portion of the website's code and design was developed with the assistance of AI tools. While every effort has been made to ensure accuracy and functionality, please understand that this site serves as a portfolio and learning project. Your understanding is appreciated.</p>
         </div>
     </section>

    <section id="gallery">
        <div class="container">
             <h2>My Sketch Samples</h2>
             <p style="text-align:center; margin-bottom: 40px; color: var(--color-text-dark); font-size: 1.1rem;">Browse through some examples of my work to get a feel for my style and quality.</p>
             <div class="sketch-gallery">
                 <img src="20250105_015608.jpg" alt="Harry potter">
                 <img src="IMG_20241122_193303_736.jpg" alt="Sample Sketch 2">
                 <img src="IMG_20241008_190133(1).jpg" alt="Sample Sketch 3">
                 </div>
         </div>
     </section>


    <section id="services">
        <div class="container">
            <h2>Services & Commissions</h2>
            <p style="text-align:center; margin-bottom: 40px; color: var(--color-text-dark); font-size: 1.1rem;">I offer custom sketch artwork tailored to your unique needs and vision. Here's what I specialize in and how the process works:</p>
            <div class="services-grid">
                <div class="service-card">
                    <div class="icon"><i class="fas fa-pencil-ruler"></i></div>
                    <h3>Custom Portraits</h3>
                    <p>Capture the true essence and personality of a person or beloved pet with a detailed and expressive hand-drawn sketch. Perfect for cherished gifts or personal collections. **A clear reference photo is essential for portraits.**</p>
                </div>
                <div class="service-card">
                    <div class="icon"><i class="fas fa-user-friends"></i></div>
                    <h3>Character Sketches</h3>
                    <p>Visualize your original characters (OCs), tabletop RPG personas, or fan art concepts brought to life with dynamic and detailed character sketches. **Reference images or detailed descriptions are required.**</p>
                </div>
                <div class="service-card">
                    <div class="icon"><i class="fas fa-lightbulb"></i></div>
                    <h3>Conceptual Sketches</h3>
                    <p>Transform your abstract ideas, narrative moments, or imaginative concepts into evocative and visually stunning sketches. **Reference images or detailed descriptions are highly recommended.**</p>
                </div>
            </div>
            <div class="service-process">
                <h3>The Commission Process:</h3>
                <ol>
                    <li><strong>Inquiry:</strong> Begin by reaching out with your detailed idea, including any reference photos (required for portraits/characters), preferred style, and desired dimensions.</li>
                    <li><strong>Discussion & Quote:</strong> We will have a thorough discussion about your project's specifics. Following this, I will provide a personalized quote and an estimated timeline for completion.</li>
                    <li><strong>Deposit:</strong> To confirm your commission slot and begin work, a **20% non-refundable deposit is required and can be paid via cash.** The remaining balance can be paid offline (cash) or as per your preference upon completion.</li>
                    <li><strong>Creation:</strong> I will dedicate my attention to creating your sketch. Work-in-progress updates can be provided at key stages if you wish to follow along.</li>
                    <li><strong>Review & Final Payment:</strong> Once complete, you will receive a watermarked preview for approval. After approval, the final payment (80%) is due as arranged (cash payment preferred for local delivery).</li>
                    <li><strong>Delivery:</strong> After receiving the final payment, you will receive the high-resolution digital file of your artwork (available in formats like JPG, PNG, or PDF). **Physical artwork delivery is currently only available within Navsari, Gujarat.**</li>
                </ol>
                <h3>What's Included:</h3>
                <ul>
                    <li>A high-resolution digital file of your completed sketch (available in formats like JPG, PNG, or PDF).</li>
                    <li>One round of minor revisions is included during the sketching phase to ensure your satisfaction.</li>
                    <li>Personal usage rights are granted by default (discussions regarding commercial rights are welcome).</li>
                </ul>
            </div>
            <div style="text-align: center; margin-top: 50px;">
                 <a href="#contact" class="cta-button">Request a Commission</a>
            </div>
        </div>
    </section>

    <section id="pricing">
        <div class="container pricing-info">
            <h2>Pricing</h2>
            <p style="font-size: 1.1rem; margin-bottom: 25px; color: var(--color-text-dark);">The cost of each sketch is unique and depends on several factors, including the size, level of complexity, the number of main subjects, and the detail in the background. Please ensure you can provide clear reference photos, especially for portraits.</p>
             <p class="important-note"><i class="fas fa-shipping-fast"></i> Please note: Physical artwork delivery is currently limited to **Navsari, Gujarat**. All payments are preferred in cash.</p>
            <p style="font-size: 1.1rem; margin-top: 20px; color: var(--color-text-dark);">For a guiding estimate tailored to your specific requirements, please utilize the estimator provided in the <a href="#contact" style="color: var(--color-primary-button); font-weight: bold; text-decoration: underline;">Contact Section</a> below.</p>
             <p style="text-align:center; margin-top: 15px; font-size: 0.9rem; color: var(--color-medium-grey);"><em>Note: The estimate provides an initial guide. The final, precise quote will be confirmed after I personally review your specific request details and any reference images provided.</em></p>
            </div>
    </section>

    <section id="about">
        <div class="container">
            <h2>About Naman Lumbhani</h2>
            <p>Hello! I'm Naman Lumbhani, the artist and creator behind NSL Creates. Sketching has been a profound passion of mine for many years. I am continuously inspired by the expressive power held within simple lines and careful shading, transforming blank surfaces into vivid depictions of ideas and emotions.</p>
            <p>Outside of the studio, I find joy in **exploring nature and gaming**. You can also find me on <a href="https://www.instagram.com/nsl_creates" target="_blank" style="color: var(--color-primary-button); text-decoration: none;">Instagram (@nsl_creates)</a> and check out my <a href="https://youtube.com/@nslcreatesofficial?si=D62UGYhSgte30f5I" target="_blank" style="color: var(--color-primary-button); text-decoration: none;">YouTube channel (@nslcreatesofficial)</a>. Through NSL Creates, my aspiration is to share my artistic vision and craft meaningful pieces that deeply resonate with you. I eagerly anticipate the opportunity to collaborate with you on your next unique sketch project!</p>
             </div>
    </section>

    <section id="contact">
        <div class="container">
            <h2>Get In Touch & Request an Estimate</h2>
            <p style="text-align:center; margin-bottom:30px; color: var(--color-text-dark); font-size: 1.1rem;">Have a question regarding a potential project or wish to initiate a commission? Please fill out the form below. You can also receive an instant estimated price based on your selected options. **Remember to upload a reference image, especially for portraits and character sketches.**</p>

            <p class="important-note"><i class="fas fa-shipping-fast"></i> Physical artwork delivery is currently only available within **Navsari, Gujarat**. Cash payment is preferred for all transactions.</p>

            <div class="contact-form">
                <form action="https://formsubmit.co/nslcreatesofficial@gmail.com" method="post" enctype="multipart/form-data" id="contactForm">
                    <div>
                        <label for="name">Your Name:</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div>
                        <label for="email">Your Email:</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                     <div>
                        <label for="phone">Your Phone Number:</label>
                         <div class="phone-input-container">
                             <span class="country-code">ðŸ‡®ðŸ‡³ +91</span>
                             <input type="tel" id="phone" name="Phone Number" required>
                         </div>
                    </div>
                     <div>
                        <label for="subject">Subject:</label>
                        <input type="text" id="subject" name="subject" required>
                    </div>

                    <div class="price-estimator">
                         <h3>Estimated Commission Price:</h3>
                         <div>
                             <label for="sketch-size">Approximate Size:</label>
                             <select id="sketch-size" name="Sketch Size">
                                 <option value="A5">A5 (148 x 210 mm)</option>
                                 <option value="A4">A4 (210 x 297 mm)</option>
                                 <option value="A3">A3 (297 x 420 mm)</option>
                             </select>
                         </div>
                         <div>
                             <label for="complexity">Complexity Level:</label>
                             <select id="complexity" name="Complexity Level">
                                 <option value="low">Low (Simple lines, minimal shading)</option>
                                 <option value="medium">Medium (Moderate detail, standard shading)</option>
                                 <option value="high">High (Intricate detail, complex shading/textures)</option>
                             </select>
                         </div>
                          <div>
                             <label for="num-subjects">Number of Main Subjects:</label>
                             <select id="num-subjects" name="Number of Subjects">
                                 <option value="1">1 Subject</option>
                                 <option value="2">2 Subjects</option>
                                 <option value="3">3+ Subjects</option>
                             </select>
                         </div>
                         <div>
                             <label for="background">Background Detail:</label>
                             <select id="background" name="Background">
                                 <option value="none">None (Blank or simple wash)</option>
                                 <option value="simple">Simple (Subtle abstract background)</option>
                                 <option value="detailed">Detailed (Specific scene or complex elements)</option>
                             </select>
                         </div>

                         <div class="price-estimate" id="estimatedPrice">
                             Estimated Price: Select options above
                         </div>
                    </div>

                    <div>
                        <label for="message">Your Message / Commission Details:</label>
                        <textarea id="message" name="message" required></textarea>
                    </div>

                    <div>
                         <label for="file">Upload Reference Image (Required):</label>
                         <div class="drop-zone" id="dropZone">
                            <p>Drag & Drop your image file here, or click to select file</p>
                            <input type="file" id="file" name="image" accept="image/*" style="display: none;" required>
                            <div class="file-info" id="fileInfo"></div>
                         </div>
                    </div>

                    <input type="text" name="_honey" style="display:none">
                    <input type="hidden" name="_captcha" value="false">
                     <input type="hidden" name="Estimated Price" id="hiddenEstimatedPrice" value="">


                    <button type="submit">Send Message & Commission Request</button>
                </form>
            </div>
            <div class="contact-info">
                <p>Alternatively, you can reach me directly via email at: <a href="mailto:nslcreatesofficial@gmail.com">nslcreatesofficial@gmail.com</a></p>
                </div>
        </div>
    </section>

    <footer>
        <div class="container">
             <p class="footer-note">This website is for learning purposes and was built with AI assistance. Payments for commissions are accepted in cash.</p>

            <div class="social-links">
                 <a href="https://www.instagram.com/nsl_creates" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                 <a href="https://youtube.com/@nslcreatesofficial?si=D62UGYhSgte30f5I" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                 </div>
             <p>NSL Creates.</p>
        </div>
    </footer>

     <div class="scroll-to-top" id="scrollToTopBtn">
         <i class="fas fa-arrow-up"></i>
     </div>

    <a href="#contact" class="sticky-cta-button" id="stickyCtaBtn">Request Commission</a>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r163/three.min.js"></script>

    <script>
        // Mobile Menu Toggle
        const menuToggle = document.getElementById('mobile-menu');
        const navMenu = document.getElementById('nav-menu');

        if (menuToggle && navMenu) {
            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
            });
            document.querySelectorAll('#nav-menu a').forEach(link => {
                link.addEventListener('click', function() {
                    if (navMenu.classList.contains('active')) {
                        setTimeout(() => {
                           navMenu.classList.remove('active');
                        }, 300);
                    }
                    document.querySelectorAll('#nav-menu a').forEach(navLink => navLink.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }

        // Smooth Scrolling & Active Nav Link
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                if (this.getAttribute('href').startsWith('#')) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);

                    if (targetElement) {
                        const headerHeight = document.querySelector('header').offsetHeight;
                        const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - headerHeight - 10;

                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });

                        if (navMenu && navMenu.classList.contains('active')) {
                            setTimeout(() => {
                                navMenu.classList.remove('active');
                             }, 300);
                        }
                    }
                }
            });
        });

        const sections = document.querySelectorAll('section');
        const navLi = document.querySelectorAll('nav ul li a');
        const header = document.querySelector('header');
        const visibleSections = Array.from(sections).filter(section => section.id);


        if (header && visibleSections.length > 0 && navLi.length > 0) {
             const observerOptions = {
                 root: null,
                 rootMargin: '0px 0px -20% 0px',
                 threshold: 0.1
             };

             const sectionObserver = new IntersectionObserver((entries, observer) => {
                 entries.forEach(entry => {
                     if (entry.target.id !== 'hero') {
                         entry.target.classList.toggle('is-visible', entry.isIntersecting);
                     } else {
                         entry.target.classList.add('is-visible');
                     }
                 });
             }, observerOptions);

             visibleSections.forEach(section => {
                 sectionObserver.observe(section);
             });


            // Simplified Scroll Logic for Active Nav Link
            const handleScrollLogic = () => {
                let currentSectionId = '';
                const headerHeight = header.offsetHeight;
                const scrollPosition = window.pageYOffset + headerHeight + 80;

                sections.forEach(section => {
                    if (section.offsetTop <= scrollPosition && section.offsetTop + section.offsetHeight > scrollPosition) {
                         currentSectionId = section.getAttribute('id');
                    }
                });

                 if (window.pageYOffset === 0 || (sections.length > 1 && window.pageYOffset < sections[1].offsetTop - headerHeight)) {
                     currentSectionId = 'hero';
                 }

                navLi.forEach(a => {
                    a.classList.remove('active');
                    if (a.getAttribute('href') && a.getAttribute('href').substring(1) === currentSectionId) {
                        a.classList.add('active');
                    }
                });
            };

             let lastScrollTop = 0;
             const scrollHandler = () => {
                 const st = window.pageYOffset || document.documentElement.scrollTop;
                 if (Math.abs(st - lastScrollTop) > 50 || getCurrentSectionBasedOnScroll() !== getLastActiveSection()) {
                      requestAnimationFrame(handleScrollLogic);
                     lastScrollTop = st <= 0 ? 0 : st;
                 } else {
                      const currentSectionId = getCurrentSectionBasedOnScroll();
                       navLi.forEach(a => {
                            a.classList.remove('active');
                            if (a.getAttribute('href') && a.getAttribute('href').substring(1) === currentSectionId) {
                                a.classList.add('active');
                            }
                        });
                 }
             };

             const getCurrentSectionBasedOnScroll = () => {
                let currentSectionId = '';
                const headerHeight = header.offsetHeight;
                const scrollPosition = window.pageYOffset + headerHeight + 80;
                 sections.forEach(section => {
                    if (section.offsetTop <= scrollPosition && section.offsetTop + section.offsetHeight > scrollPosition) {
                         currentSectionId = section.getAttribute('id');
                    }
                 });
                 if (window.pageYOffset === 0 || (sections.length > 1 && window.pageYOffset < sections[1].offsetTop - headerHeight)) {
                     currentSectionId = 'hero';
                 }
                 return currentSectionId;
             }
             // Helper to get the ID of the currently active section for comparison
             const getLastActiveSection = () => {
                 for(let i = 0; i < navLi.length; i++) {
                     if (navLi[i].classList.contains('active')) {
                         return navLi[i].getAttribute('href').substring(1);
                     }
                 }
                 return ''; // No active section found
             }


             window.addEventListener('scroll', scrollHandler);
             requestAnimationFrame(handleScrollLogic); // Initial check on load
        }


        // Drag and Drop Functionality
        const dropZone = document.getElementById('dropZone');
        const fileInput = document.getElementById('file');
        const fileInfo = document.getElementById('fileInfo');
        const contactForm = document.getElementById('contactForm');

        if (dropZone && fileInput && fileInfo) {
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropZone.addEventListener(eventName, preventDefaults, false);
                document.body.addEventListener(eventName, preventDefaults, false);
            });
            ['dragenter', 'dragover'].forEach(eventName => {
                dropZone.addEventListener(eventName, highlight, false);
            });
            ['dragleave', 'drop'].forEach(eventName => {
                dropZone.classList.remove('dragover');
            });
            dropZone.addEventListener('drop', handleDrop, false);
            fileInput.addEventListener('change', handleChange, false);
            dropZone.addEventListener('click', () => fileInput.click());

            function preventDefaults(e) { e.preventDefault(); e.stopPropagation(); }
            function highlight() {
                dropZone.classList.add('dragover');
                dropZone.classList.remove('error');
                fileInfo.classList.remove('error-message');
                fileInfo.innerHTML = '';
            }
            function handleDrop(e) { handleFiles(e.dataTransfer.files); }
            function handleChange(e) { handleFiles(e.target.files); }
            function handleFiles(files) {
                 const file = files[0];
                 dropZone.classList.remove('error');
                 fileInfo.classList.remove('error-message');
                 if (file) {
                     if (file.type.startsWith('image/')) {
                         const dataTransfer = new DataTransfer();
                         dataTransfer.items.add(file);
                         fileInput.files = dataTransfer.files;
                         fileInfo.innerHTML = `Selected file: <strong>${file.name}</strong> (${(file.size / 1024).toFixed(2)} KB)`;
                     } else {
                         fileInput.value = '';
                         fileInfo.innerHTML = '<span style="color: var(--color-error-text);">Please drop/select an image file.</span>';
                         fileInfo.classList.add('error-message');
                     }
                 } else {
                      fileInput.value = '';
                      fileInfo.innerHTML = '';
                 }
            }
        }

        if (contactForm && fileInput && fileInfo && dropZone) {
            contactForm.addEventListener('submit', function(event) {
                if (fileInput.files.length === 0) {
                    event.preventDefault();
                    fileInfo.innerHTML = 'A reference image is required. Please upload a file.';
                    fileInfo.classList.add('error-message');
                    dropZone.classList.add('error');
                    dropZone.scrollIntoView({ behavior: 'smooth', block: 'center' });
                } else {
                    fileInfo.classList.remove('error-message');
                    dropZone.classList.remove('error');
                }
            });
        }

        // Pricing Estimator Logic
        const sizeSelect = document.getElementById('sketch-size');
        const complexitySelect = document.getElementById('complexity');
        const subjectsSelect = document.getElementById('num-subjects');
        const backgroundSelect = document.getElementById('background');
        const estimatedPriceDiv = document.getElementById('estimatedPrice');
        const hiddenEstimatedPriceInput = document.getElementById('hiddenEstimatedPrice');
        const basePrices = { 'A5': 180, 'A4': 380, 'A3': 650 };
        const complexityCosts = { 'low': 50, 'medium': 150, 'high': 300 };
        const subjectCosts = { '1': 0, '2': 150, '3': 350 };
        const backgroundCosts = { 'none': 0, 'simple': 100, 'detailed': 300 };
        const generalMinPrice = 150;

        function calculateEstimate() {
            const size = sizeSelect.value;
            const complexity = complexitySelect.value;
            const subjects = subjectsSelect.value;
            const background = backgroundSelect.value;
            let currentPrice = basePrices[size] || 0;
            currentPrice += complexityCosts[complexity] || 0;
            currentPrice += subjectCosts[subjects] || 0;
            currentPrice += backgroundCosts[background] || 0;
            currentPrice = Math.max(currentPrice, generalMinPrice);
            estimatedPriceDiv.innerHTML = `Estimated Price: â‚¹${currentPrice}/-`;
            hiddenEstimatedPriceInput.value = `${currentPrice}/- (Estimate based on selections)`;
        }

        if (sizeSelect && complexitySelect && subjectsSelect && backgroundSelect && estimatedPriceDiv && hiddenEstimatedPriceInput) {
            [sizeSelect, complexitySelect, subjectsSelect, backgroundSelect].forEach(el => el.addEventListener('change', calculateEstimate));
            calculateEstimate();
        }

        // Scroll to Top Button Logic
        const scrollToTopBtn = document.getElementById('scrollToTopBtn');
        if (scrollToTopBtn) {
             window.addEventListener('scroll', () => {
                 scrollToTopBtn.classList.toggle('visible', window.pageYOffset > 400);
             });
             scrollToTopBtn.addEventListener('click', () => {
                 window.scrollTo({ top: 0, behavior: 'smooth' });
             });
        }

        // Sticky CTA Button Visibility Logic
        const stickyCtaBtn = document.getElementById('stickyCtaBtn');
        const heroSection = document.getElementById('hero');

        if (stickyCtaBtn && heroSection) {
             const showButton = () => {
                 // Show button if scrolled past the hero section height + a buffer
                 if (window.pageYOffset > heroSection.offsetHeight - 50) {
                     stickyCtaBtn.classList.add('visible');
                 } else {
                     stickyCtaBtn.classList.remove('visible');
                 }
             };

             window.addEventListener('scroll', showButton);
             showButton(); // Check visibility on page load
        }

        // --- Three.js Hero Section Setup ---
        const heroCanvas = document.getElementById('hero-canvas');
        const hero3dContainer = document.querySelector('.hero-3d-container');
        const heroFallbackMessage = document.getElementById('hero-fallback-message');

        if (heroCanvas && hero3dContainer) {
            // Check for WebGL support
            const isWebGLAvailable = (function () {
                try {
                    const canvas = document.createElement('canvas');
                    return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));
                } catch (e) {
                    return false;
                }
            })();

            if (isWebGLAvailable) {
                // Hide fallback message
                if (heroFallbackMessage) heroFallbackMessage.style.display = 'none';

                // 1. Create Scene, Camera, Renderer
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, hero3dContainer.clientWidth / hero3dContainer.clientHeight, 0.1, 1000);
                const renderer = new THREE.WebGLRenderer({ canvas: heroCanvas, antialias: true, alpha: true }); // alpha: true for transparency

                renderer.setSize(hero3dContainer.clientWidth, hero3dContainer.clientHeight);
                renderer.setPixelRatio(window.devicePixelRatio); // Handle high DPI screens

                // 2. Add a Simple Geometry (e.g., a Box)
                const geometry = new THREE.BoxGeometry(3, 3, 3); // Adjust size as needed
                // const geometry = new THREE.SphereGeometry(2, 32, 32); // Alternative: Sphere

                // 3. Add Material
                // Using a basic material, could be more complex with textures etc.
                const material = new THREE.MeshPhongMaterial({ color: 0xbb86fc, shininess: 50 }); // Using primary color with some shine
                // const material = new THREE.MeshBasicMaterial({ color: 0xbb86fc, wireframe: true }); // Alternative: Wireframe

                // 4. Create Mesh and Add to Scene
                const cube = new THREE.Mesh(geometry, material);
                scene.add(cube);

                // 5. Add Lighting
                const ambientLight = new THREE.AmbientLight(0x404040); // Soft white light
                scene.add(ambientLight);

                const directionalLight = new THREE.DirectionalLight(0xffffff, 1); // White light
                directionalLight.position.set(5, 5, 5).normalize();
                scene.add(directionalLight);

                // 6. Position Camera
                camera.position.z = 5; // Move camera back

                // 7. Animation Loop
                const animate = () => {
                    requestAnimationFrame(animate);

                    // Rotate the object
                    cube.rotation.x += 0.005;
                    cube.rotation.y += 0.005;

                    renderer.render(scene, camera);
                };

                // 8. Handle Window Resize
                const onWindowResize = () => {
                    const width = hero3dContainer.clientWidth;
                    const height = hero3dContainer.clientHeight;
                    camera.aspect = width / height;
                    camera.updateProjectionMatrix();
                    renderer.setSize(width, height);
                };

                window.addEventListener('resize', onWindowResize);

                // Start the animation
                animate();

            } else {
                // WebGL is not supported, show fallback message and remove canvas
                 if (heroFallbackMessage) heroFallbackMessage.style.display = 'block';
                 if (heroCanvas) heroCanvas.style.display = 'none';

                 // Optional: Apply the original background image as a true fallback
                 hero3dContainer.style.backgroundImage = "url('https://googleusercontent.com/image_generation_content/0')";
                 hero3dContainer.style.backgroundSize = "cover";
                 hero3dContainer.style.backgroundPosition = "center center";
            }
        }
         // --- End Three.js Setup ---


    </script>

</body>
</html>
