<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Existing head content remains the same -->
    <style>
        /* Add these new styles to existing CSS */
        
        /* 3D Product Card Enhancements */
        .product-3d-container {
            position: relative;
            width: 100%;
            height: 400px;
            margin: 20px 0;
        }

        .product-card-3d {
            transform-style: preserve-3d;
            transition: transform 0.8s;
            cursor: pointer;
        }

        .cart-icon-3d {
            position: relative;
            transition: transform 0.3s ease;
        }

        .cart-icon-3d.added {
            animation: cartBounce 0.5s ease;
        }

        @keyframes cartBounce {
            0%, 100% { transform: scale(1); }
            30% { transform: scale(1.2); }
            60% { transform: scale(0.9); }
        }

        /* 3D Overlay Effects */
        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: none;
            z-index: 2000;
        }
    </style>
    <!-- Add GSAP library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
</head>
<body>
    <!-- Add 3D cart icon in header -->
    <header>
        <div class="container">
            <!-- Existing header content -->
            <div class="cart-icon-3d" id="cartIcon">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-count">0</span>
            </div>
        </div>
    </header>

    <!-- Enhanced Hero Section with 3D Pen -->
    <section id="hero">
        <div class="hero-3d-container">
            <canvas id="hero-canvas"></canvas>
        </div>
        <!-- Existing hero content -->
    </section>

    <!-- Enhanced Product Showcase -->
    <section id="gallery">
        <div class="container">
            <h2>My Sketch Samples</h2>
            <div class="sketch-gallery">
                <!-- 3D Product Cards -->
                <div class="product-3d-container" id="product3dContainer"></div>
            </div>
        </div>
    </section>

    <!-- Cart Overlay -->
    <div class="cart-overlay" id="cartOverlay"></div>

    <script>
        // ====================
        // Enhanced 3D Features
        // ====================

        // Hero Section 3D Pen Animation
        function initHero3D() {
            const canvas = document.getElementById('hero-canvas');
            const renderer = new THREE.WebGLRenderer({ canvas, alpha: true });
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            
            // Create extruded pen shape
            const penShape = new THREE.Shape()
                .moveTo(0, 0)
                .lineTo(0.1, 0)
                .lineTo(0.1, 3)
                .lineTo(0, 3)
                .lineTo(0, 0);

            const extrudeSettings = {
                steps: 2,
                depth: 0.5,
                bevelEnabled: true,
                bevelThickness: 0.1,
                bevelSize: 0.1,
                bevelOffset: 0,
                bevelSegments: 1
            };

            const geometry = new THREE.ExtrudeGeometry(penShape, extrudeSettings);
            const material = new THREE.MeshPhongMaterial({
                color: 0xbb86fc,
                shininess: 100,
                specular: 0xffffff
            });

            const pen = new THREE.Mesh(geometry, material);
            scene.add(pen);

            // Lighting
            const ambientLight = new THREE.AmbientLight(0x404040);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(5, 5, 5);
            scene.add(ambientLight, directionalLight);

            camera.position.z = 5;

            // Animation
            function animate() {
                requestAnimationFrame(animate);
                pen.rotation.x += 0.005;
                pen.rotation.y += 0.005;
                renderer.render(scene, camera);
            }

            // Handle resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            animate();
        }

        // 3D Product Cards
        function initProductCards() {
            const container = document.getElementById('product3dContainer');
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(container.offsetWidth, container.offsetHeight);
            container.appendChild(renderer.domElement);

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, container.offsetWidth / container.offsetHeight, 0.1, 1000);
            camera.position.z = 5;

            // Create product cards
            const products = [
                { img: '20250105_015608.jpg', scale: 1.2 },
                { img: 'IMG_20241122_193303_736.jpg', scale: 1.1 },
                { img: 'IMG_20241008_190133(1).jpg', scale: 1.3 }
            ];

            products.forEach((product, index) => {
                const texture = new THREE.TextureLoader().load(product.img);
                const geometry = new THREE.PlaneGeometry(2, 2);
                const material = new THREE.MeshBasicMaterial({ map: texture });
                const mesh = new THREE.Mesh(geometry, material);
                
                mesh.position.x = (index - 1) * 2.5;
                mesh.userData = { hover: false };
                scene.add(mesh);

                // Hover effect
                container.addEventListener('mousemove', (e) => {
                    const rect = container.getBoundingClientRect();
                    const mouse = new THREE.Vector2(
                        (e.clientX - rect.left) / rect.width * 2 - 1,
                        -(e.clientY - rect.top) / rect.height * 2 + 1
                    );

                    const raycaster = new THREE.Raycaster();
                    raycaster.setFromCamera(mouse, camera);
                    const intersects = raycaster.intersectObjects(scene.children);

                    scene.children.forEach(child => {
                        if (intersects.length > 0 && intersects[0].object === child) {
                            gsap.to(child.rotation, { y: Math.PI/8, duration: 0.5 });
                            gsap.to(child.scale, { x: 1.1, y: 1.1, duration: 0.5 });
                        } else {
                            gsap.to(child.rotation, { y: 0, duration: 0.5 });
                            gsap.to(child.scale, { x: 1, y: 1, duration: 0.5 });
                        }
                    });
                });
            });

            // Animation loop
            function animate() {
                requestAnimationFrame(animate);
                renderer.render(scene, camera);
            }
            animate();
        }

        // Cart Animation
        function initCartInteraction() {
            let cartCount = 0;
            const cartIcon = document.getElementById('cartIcon');
            const cartOverlay = document.getElementById('cartOverlay');

            document.querySelectorAll('.cta-button').forEach(button => {
                button.addEventListener('click', () => {
                    cartCount++;
                    document.querySelector('.cart-count').textContent = cartCount;
                    
                    // 3D Bounce Animation
                    cartIcon.classList.add('added');
                    setTimeout(() => cartIcon.classList.remove('added'), 500);

                    // Cart Overlay Animation
                    gsap.to(cartOverlay, {
                        opacity: 1,
                        display: 'block',
                        duration: 0.5
                    });
                });
            });
        }

        // Initialize 3D Features
        if (WEBGL.isWebGLAvailable()) {
            initHero3D();
            initProductCards();
            initCartInteraction();
        } else {
            document.getElementById('hero-fallback-message').style.display = 'block';
        }

        // Existing JavaScript remains below...
    </script>
</body>
</html>